{"ast":null,"code":"import _slicedToArray from\"/Users/marcopologodinez/Desktop/codingdojo/mern/fullStack/storeLocator/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{Link,useNavigate}from\"react-router-dom\";import StoreForm from\"../component/StoreForm\";import Title from\"../component/Title\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePage=function CreatePage(){var nav=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),formErrors=_useState2[0],setFormErrors=_useState2[1];var createStore=function createStore(newStore){axios.post('http://localhost:8000/api/stores',newStore).then(function(res){// console.log(res.data)\nnav(\"/stores/\".concat(res.data._id));}).catch(function(err){console.log(err);var errorResponse=err.response.data.error.errors;var errorArr=[];//loop through the error respone object \n//and put all the messageinside of the error array\nfor(var key in errorResponse){// console.log(errorResponse[key].message);\nerrorArr.push(errorResponse[key].message);}setFormErrors(errorResponse);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Back Home\"})]}),/*#__PURE__*/_jsx(StoreForm,{submitFormInformation:createStore,store:{name:'',storeNumber:'',isOpen:true},errors:formErrors})]});};export default CreatePage;","map":{"version":3,"names":["React","useState","axios","Link","useNavigate","StoreForm","Title","jsx","_jsx","jsxs","_jsxs","CreatePage","nav","_useState","_useState2","_slicedToArray","formErrors","setFormErrors","createStore","newStore","post","then","res","concat","data","_id","catch","err","console","log","errorResponse","response","error","errors","errorArr","key","push","message","children","className","to","submitFormInformation","store","name","storeNumber","isOpen"],"sources":["/Users/marcopologodinez/Desktop/codingdojo/mern/fullStack/storeLocator/client/src/views/CreatePage.jsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\n\nimport StoreForm from \"../component/StoreForm\";\nimport Title from \"../component/Title\";\n\nconst CreatePage = () => {\n\n    const nav = useNavigate();\n\n    const[formErrors, setFormErrors] = useState([])\n\n    const createStore = (newStore) => {\n        axios\n        .post('http://localhost:8000/api/stores', newStore)\n        .then((res) => {\n            // console.log(res.data)\n            nav(`/stores/${res.data._id}`);\n        })\n        .catch((err) => {\n            console.log(err); \n            const errorResponse= err.response.data.error.errors\n\n            const errorArr =[];\n            //loop through the error respone object \n            //and put all the messageinside of the error array\n            for (const key in errorResponse){\n                // console.log(errorResponse[key].message);\n                errorArr.push(errorResponse[key].message);\n            }\n            setFormErrors(errorResponse);\n        });\n        \n    }\n\n    return (\n        <div>\n            <div className='d-flex justify-content-center align-items-center'>\n                <Title />\n                <Link to ='/'>Go Back Home</Link>\n            </div>\n            <StoreForm \n                submitFormInformation ={createStore}\n                store ={{name:'', storeNumber:'', isOpen: true}}\n                errors = {formErrors}\n            />\n            \n        </div>\n    )\n\n};\n\nexport default CreatePage;"],"mappings":"mKAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAGpD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CAErB,GAAM,CAAAC,GAAG,CAAGR,WAAW,EAAE,CAEzB,IAAAS,SAAA,CAAmCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAE/B,GAAM,CAAAI,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,QAAQ,CAAK,CAC9BjB,KAAK,CACJkB,IAAI,CAAC,kCAAkC,CAAED,QAAQ,CAAC,CAClDE,IAAI,CAAC,SAACC,GAAG,CAAK,CACX;AACAV,GAAG,YAAAW,MAAA,CAAYD,GAAG,CAACE,IAAI,CAACC,GAAG,EAAG,CAClC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChB,GAAM,CAAAG,aAAa,CAAEH,GAAG,CAACI,QAAQ,CAACP,IAAI,CAACQ,KAAK,CAACC,MAAM,CAEnD,GAAM,CAAAC,QAAQ,CAAE,EAAE,CAClB;AACA;AACA,IAAK,GAAM,CAAAC,GAAG,GAAI,CAAAL,aAAa,CAAC,CAC5B;AACAI,QAAQ,CAACE,IAAI,CAACN,aAAa,CAACK,GAAG,CAAC,CAACE,OAAO,CAAC,CAC7C,CACApB,aAAa,CAACa,aAAa,CAAC,CAChC,CAAC,CAAC,CAEN,CAAC,CAED,mBACIpB,KAAA,QAAA4B,QAAA,eACI5B,KAAA,QAAK6B,SAAS,CAAC,kDAAkD,CAAAD,QAAA,eAC7D9B,IAAA,CAACF,KAAK,IAAG,cACTE,IAAA,CAACL,IAAI,EAACqC,EAAE,CAAE,GAAG,CAAAF,QAAA,CAAC,cAAY,EAAO,GAC/B,cACN9B,IAAA,CAACH,SAAS,EACNoC,qBAAqB,CAAGvB,WAAY,CACpCwB,KAAK,CAAG,CAACC,IAAI,CAAC,EAAE,CAAEC,WAAW,CAAC,EAAE,CAAEC,MAAM,CAAE,IAAI,CAAE,CAChDZ,MAAM,CAAIjB,UAAW,EACvB,GAEA,CAGd,CAAC,CAED,cAAe,CAAAL,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}