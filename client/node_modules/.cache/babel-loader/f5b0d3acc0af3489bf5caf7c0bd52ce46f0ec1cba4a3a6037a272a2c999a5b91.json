{"ast":null,"code":"import _slicedToArray from\"/Users/marcopologodinez/Desktop/codingdojo/mern/fullStack/storeLocator/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import Title from'../component/Title';import DeleteButton from'../component/DeleteButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allStores=_useState2[0],setAllStores=_useState2[1];useEffect(function(){axios.get('http://localhost:8000/api/stores').then(function(res){setAllStores(res.data);}).catch(function(err){return console.log(err);});},[]);var removeItemFromDom=function removeItemFromDom(storeIdToDelete){setAllStores(allStores.filter(function(oneStore){return oneStore._id!==storeIdToDelete;}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Find Stores in your area!\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-primary table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Store\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Store Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Open\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Remove\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allStores.map(function(oneStore,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/stores/\".concat(oneStore._id),children:oneStore.name})}),/*#__PURE__*/_jsx(\"td\",{children:oneStore.storeNumber}),/*#__PURE__*/_jsx(\"td\",{children:oneStore.isOpen?'True':'False'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(DeleteButton,{storeId:oneStore._id,successCallBack:removeItemFromDom})})]},index);})})]}),/*#__PURE__*/_jsx(Link,{to:\"/store/add\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:\"Can't find your store?\"})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","Title","DeleteButton","jsx","_jsx","jsxs","_jsxs","Dashboard","_useState","_useState2","_slicedToArray","allStores","setAllStores","get","then","res","data","catch","err","console","log","removeItemFromDom","storeIdToDelete","filter","oneStore","_id","children","className","map","index","to","concat","name","storeNumber","isOpen","storeId","successCallBack"],"sources":["/Users/marcopologodinez/Desktop/codingdojo/mern/fullStack/storeLocator/client/src/views/DashboardPage.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Title from '../component/Title';\nimport DeleteButton from '../component/DeleteButton';\n\n\n\nconst Dashboard = () => {\n    const [allStores, setAllStores] = useState([]);\n\n    useEffect(() => {\n        axios\n        .get('http://localhost:8000/api/stores')\n        .then((res) => {\n            setAllStores(res.data);\n        })\n        .catch((err) => console.log(err))\n    }, [])\n\n    const removeItemFromDom = (storeIdToDelete) => {\n        setAllStores(allStores.filter((oneStore) => oneStore._id !== storeIdToDelete))\n        \n    };\n    \n    return (\n        <div>\n            <Title />\n            <div>\n                <h3>Find Stores in your area!</h3>\n                <table className='table table-primary table table-striped'>\n                    <thead>\n                        <tr>\n                            <th>Store</th>\n                            <th>Store Number</th>\n                            <th>Open</th>\n                            <th>Remove</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {allStores.map((oneStore, index) => (\n                            <tr key= {index}>\n                                <td><Link to ={`/stores/${oneStore._id}`}>{oneStore.name}</Link></td>\n                                <td>{oneStore.storeNumber}</td>\n                                <td>{oneStore.isOpen ? 'True' : 'False'}</td>\n                                <td>\n                                    <DeleteButton\n                                        storeId = {oneStore._id}\n                                        successCallBack = {removeItemFromDom}\n                                    />\n                                </td>\n\n                            </tr>\n                        ))\n\n                        }\n                    </tbody>\n\n                </table>\n                <Link to ='/store/add'><button className='btn btn-success'>Can't find your store?</button></Link>\n            </div>\n        </div>\n    )\n};\n\nexport default Dashboard"],"mappings":"mKAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAIrD,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACpB,IAAAC,SAAA,CAAkCX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9BX,SAAS,CAAC,UAAM,CACZE,KAAK,CACJa,GAAG,CAAC,kCAAkC,CAAC,CACvCC,IAAI,CAAC,SAACC,GAAG,CAAK,CACXH,YAAY,CAACG,GAAG,CAACC,IAAI,CAAC,CAC1B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,eAAe,CAAK,CAC3CV,YAAY,CAACD,SAAS,CAACY,MAAM,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,GAAG,GAAKH,eAAe,GAAC,CAAC,CAElF,CAAC,CAED,mBACIhB,KAAA,QAAAoB,QAAA,eACItB,IAAA,CAACH,KAAK,IAAG,cACTK,KAAA,QAAAoB,QAAA,eACItB,IAAA,OAAAsB,QAAA,CAAI,2BAAyB,EAAK,cAClCpB,KAAA,UAAOqB,SAAS,CAAC,yCAAyC,CAAAD,QAAA,eACtDtB,IAAA,UAAAsB,QAAA,cACIpB,KAAA,OAAAoB,QAAA,eACItB,IAAA,OAAAsB,QAAA,CAAI,OAAK,EAAK,cACdtB,IAAA,OAAAsB,QAAA,CAAI,cAAY,EAAK,cACrBtB,IAAA,OAAAsB,QAAA,CAAI,MAAI,EAAK,cACbtB,IAAA,OAAAsB,QAAA,CAAI,QAAM,EAAK,GACd,EACD,cACRtB,IAAA,UAAAsB,QAAA,CACKf,SAAS,CAACiB,GAAG,CAAC,SAACJ,QAAQ,CAAEK,KAAK,qBAC3BvB,KAAA,OAAAoB,QAAA,eACItB,IAAA,OAAAsB,QAAA,cAAItB,IAAA,CAACL,IAAI,EAAC+B,EAAE,YAAAC,MAAA,CAAcP,QAAQ,CAACC,GAAG,CAAG,CAAAC,QAAA,CAAEF,QAAQ,CAACQ,IAAI,EAAQ,EAAK,cACrE5B,IAAA,OAAAsB,QAAA,CAAKF,QAAQ,CAACS,WAAW,EAAM,cAC/B7B,IAAA,OAAAsB,QAAA,CAAKF,QAAQ,CAACU,MAAM,CAAG,MAAM,CAAG,OAAO,EAAM,cAC7C9B,IAAA,OAAAsB,QAAA,cACItB,IAAA,CAACF,YAAY,EACTiC,OAAO,CAAIX,QAAQ,CAACC,GAAI,CACxBW,eAAe,CAAIf,iBAAkB,EACvC,EACD,GATCQ,KAAK,CAWV,EACR,CAAC,EAGE,GAEJ,cACRzB,IAAA,CAACL,IAAI,EAAC+B,EAAE,CAAE,YAAY,CAAAJ,QAAA,cAACtB,IAAA,WAAQuB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,wBAAsB,EAAS,EAAO,GAC/F,GACJ,CAEd,CAAC,CAED,cAAe,CAAAnB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}