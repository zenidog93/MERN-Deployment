{"ast":null,"code":"import _slicedToArray from\"/Users/marcopologodinez/Desktop/codingdojo/mern/fullStack/storeLocator/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from'axios';import{useNavigate,useParams,Link}from'react-router-dom';import StoreForm from\"../component/StoreForm\";import Title from\"../component/Title\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPage=function EditPage(){var nav=useNavigate();var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),oneStore=_useState2[0],setOneStore=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/stores/\".concat(id)).then(function(res){setOneStore(res.data);console.log(oneStore);}).catch(function(err){return console.log(err);});},[]);var updateStore=function updateStore(storeToUpdate){axios.put(\"http://localhost:8000/api/stores/\".concat(id),storeToUpdate).then(function(){nav(\"/stores/\".concat(id));}).catch(function(err){console.log(err);var errorResponse=err.response.data.error.errors;setFormErrors(errorResponse);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Back Home\"})]}),oneStore&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(StoreForm,{submitFormInformation:updateStore,store:oneStore,errors:formErrors})})]});};export default EditPage;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useParams","Link","StoreForm","Title","jsx","_jsx","jsxs","_jsxs","EditPage","nav","_useParams","id","_useState","_useState2","_slicedToArray","oneStore","setOneStore","_useState3","_useState4","formErrors","setFormErrors","get","concat","then","res","data","console","log","catch","err","updateStore","storeToUpdate","put","errorResponse","response","error","errors","children","className","to","submitFormInformation","store"],"sources":["/Users/marcopologodinez/Desktop/codingdojo/mern/fullStack/storeLocator/client/src/views/EditPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { useNavigate, useParams, Link } from 'react-router-dom';\nimport StoreForm from \"../component/StoreForm\";\nimport Title from \"../component/Title\";\n\nconst EditPage = () => {\n    const nav = useNavigate();\n    const {id} = useParams();\n\n    const [oneStore, setOneStore] = useState();\n    const [formErrors, setFormErrors] = useState([])\n\n\n    useEffect(() => {\n        axios\n        .get(`http://localhost:8000/api/stores/${id}`)\n        .then((res) => {\n            setOneStore(res.data)\n            console.log(oneStore)\n            \n        })\n        .catch((err) => console.log(err))\n    }, [])\n\n    const updateStore =(storeToUpdate) => {\n        \n        axios\n            .put(`http://localhost:8000/api/stores/${id}`, storeToUpdate)\n            .then(() => {\n                nav(`/stores/${id}`);\n            })\n            .catch((err) => {\n                console.log(err);\n                const errorResponse= err.response.data.error.errors;\n\n                setFormErrors(errorResponse);\n\n            });\n    }\n\n\n    return (\n        <div>\n            <div className='d-flex justify-content-center align-items-center'>\n                <Title />\n                <Link to ='/'>Go Back Home</Link>\n            </div>\n            {\n                oneStore && (\n                    <div>\n                        <StoreForm \n                            submitFormInformation = {updateStore}\n                            store = {oneStore}\n                            errors = {formErrors}\n                        />\n                    </div>\n                )\n            }\n        </div>\n    )\n};\n\nexport default EditPage;"],"mappings":"mKAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACnB,GAAM,CAAAC,GAAG,CAAGV,WAAW,EAAE,CACzB,IAAAW,UAAA,CAAaV,SAAS,EAAE,CAAjBW,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAET,IAAAC,SAAA,CAAgChB,QAAQ,EAAE,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAoCrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAGhCrB,SAAS,CAAC,UAAM,CACZC,KAAK,CACJuB,GAAG,qCAAAC,MAAA,CAAqCX,EAAE,EAAG,CAC7CY,IAAI,CAAC,SAACC,GAAG,CAAK,CACXR,WAAW,CAACQ,GAAG,CAACC,IAAI,CAAC,CACrBC,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC,CAEzB,CAAC,CAAC,CACDa,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,WAAW,CAAE,QAAb,CAAAA,WAAWA,CAAGC,aAAa,CAAK,CAElCjC,KAAK,CACAkC,GAAG,qCAAAV,MAAA,CAAqCX,EAAE,EAAIoB,aAAa,CAAC,CAC5DR,IAAI,CAAC,UAAM,CACRd,GAAG,YAAAa,MAAA,CAAYX,EAAE,EAAG,CACxB,CAAC,CAAC,CACDiB,KAAK,CAAC,SAACC,GAAG,CAAK,CACZH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAChB,GAAM,CAAAI,aAAa,CAAEJ,GAAG,CAACK,QAAQ,CAACT,IAAI,CAACU,KAAK,CAACC,MAAM,CAEnDhB,aAAa,CAACa,aAAa,CAAC,CAEhC,CAAC,CAAC,CACV,CAAC,CAGD,mBACI1B,KAAA,QAAA8B,QAAA,eACI9B,KAAA,QAAK+B,SAAS,CAAC,kDAAkD,CAAAD,QAAA,eAC7DhC,IAAA,CAACF,KAAK,IAAG,cACTE,IAAA,CAACJ,IAAI,EAACsC,EAAE,CAAE,GAAG,CAAAF,QAAA,CAAC,cAAY,EAAO,GAC/B,CAEFtB,QAAQ,eACJV,IAAA,QAAAgC,QAAA,cACIhC,IAAA,CAACH,SAAS,EACNsC,qBAAqB,CAAIV,WAAY,CACrCW,KAAK,CAAI1B,QAAS,CAClBqB,MAAM,CAAIjB,UAAW,EACvB,EAET,GAEH,CAEd,CAAC,CAED,cAAe,CAAAX,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}